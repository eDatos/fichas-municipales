"0","palette <- c('#8CD2EA', '#005980')"
"0",""
"0","url_mapa <- ifelse(params$aÃ±o < 2007, params$url.mapa_2007, params$url.mapa)"
"0","mapa_Canarias <- st_read(url_mapa, quiet = TRUE)"
"0",""
"0","mapa_Canarias <- rbind("
"0","  cbind(filter(mapa_Canarias, mapa_Canarias$geocode != params$id_municipio), col = ""0""),"
"0","  cbind(filter(mapa_Canarias, mapa_Canarias$geocode == params$id_municipio), col = ""1"")"
"0",") %>% "
"0","  select(-c(notas, utm_x_capi, utm_y_capi, long_capi, lati_capi)) %>%"
"0","  st_sf"
"0",""
"0","mapa_Canarias_plot <- tm_shape(mapa_Canarias) + "
"0","                      tm_fill(col = ""col"", palette = palette, alpha = 0.8, legend.show = F) +"
"0","                      tm_layout(frame = FALSE, frame.lwd = NA, panel.label.bg.color = NA, outer.margins = 0, inner.margins = 0) +"
"0","                      tmap_options(check.and.fix = TRUE)"
"0",""
"0","mapa_isla <- filter(mapa_Canarias, mapa_Canarias$gcd_isla == municipio_actual$id_isla) %>% select(geocode, col)"
"0",""
"0","mapa_isla_plot <- tm_shape(mapa_isla) + "
"0","                  tm_borders() + "
"0","                  tm_fill(col = ""col"", palette = palette, alpha = 0.8, legend.show = F) +"
"0","                  tm_layout(frame = FALSE, frame.lwd = NA, panel.label.bg.color = NA) +"
"0","                  tmap_options(check.and.fix = TRUE)"
"0",""
"0","mapa_comarca <- filter(mapa_Canarias, mapa_Canarias$geocode %in% (df_CL_AREA_mun[df_CL_AREA_mun$id_comarca == municipio_actual$id_comarca,]$id)) %>% select(geocode, col)"
"0",""
"0","mapa_comarca_plot <- tm_shape(mapa_comarca) + "
"0","                     tm_borders() + "
"0","                     tm_fill(col = ""col"", palette = palette, alpha = 0.8, legend.show = F) +"
"0","                     tm_layout(frame = FALSE, frame.lwd = NA, panel.label.bg.color = NA) +"
"0","                     tmap_options(check.and.fix = TRUE)"
