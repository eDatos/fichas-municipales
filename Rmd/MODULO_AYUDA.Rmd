---
title: ''
output:
  html_document:
    df_print: paged
    css: styles/MODULO.css
    # self_contained: false
    # lib_dir: libs
always_allow_html: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE, error=FALSE)
```

```{r librerías, include=FALSE}
list.of.packages <- c("jsonlite", "ggplot2", "knitr", "data.table", "plotly", "plyr", "dplyr", "scales", "htmlwidgets", "sf", "fuzzyjoin", "xml2", "XML", "tidyverse", "tmap", "magrittr", "reshape")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
sapply(list.of.packages, require, character.only = TRUE)
```

```{r Generación HTML, results="asis"}
get_indicator2 = function(label, value, image) {
  return(sprintf("<div class='indicator2'><div class='image'><img src='%s'></img></div><div class='indicator-content'><p class='value'>%s</p><p class='label'>%s</p></div></div>", image, value, label))
}
get_indicator3 = function(label, value, image) {
  return(sprintf("<div class='indicator3'><div class='image'><img src='%s'></img></div><div class='indicator-content'><p class='value'>%s</p><p class='label'>%s</p></div></div>", image, value, label))
}
get_indicator_mod = function(label, description) {
  return(sprintf("<div class='column-modulo-left'><p class='label_m'>%s</p><hr class='separator'/><p class='label_p'>%s</p></div>", label, description))
}
```

<!-- HTML -->
<div class="row" style="margin-top: 10px;">
  `r get_indicator_mod("Encabezado", "Contexto territorial, temático y temporal.")`

<div class="column-modulo-right">
<div class="highlight-modulo">

<p style="margin-bottom: 0;"> 
  <img src="img_dat/modulo_encabezado.png"/>
</p>

</div>
</div>
</div>

<div class="linechart-placeholder">

<div class="row" style="margin-top: 10px;">
  `r get_indicator_mod("Variable principal", "")`

<div class="column-modulo-right">
<div class="highlight-modulo" style="padding: 5px 15px;">

<p style="margin-bottom: 0;"> 
  <img src="img_dat/modulo_variable.png"/>
</p>

</div>
</div>
</div>

<div class="row" style="margin-top: 10px;">
  `r get_indicator_mod("Gráfico<br/>espacio-temporal", "Gráfico comparativo del municipio con dos municipios relacionados, a lo largo del tiempo.")`

<div class="column-modulo-right">
<div class="highlight-modulo" style="padding: 5px 15px 0;">

<p style="margin-bottom: 0;"> 
  <img src="img_dat/modulo_serie.png"/>
</p>

</div>
</div>
</div>
</div>

<div class="row" style="margin-top: 10px;">
  `r get_indicator_mod("Indicadores principales", "Tasa de variación e indicadores de mayor relevancia.")`

<div class="column-modulo-right">
<div class="highlight-modulo">

<p style="margin-bottom: 0;"> 
  <img src="img_dat/modulo_indicadores.png"/>
</p>

</div>
</div>
</div>

<div class="row" style="margin-top: 10px;">
  `r get_indicator_mod("Rankings territoriales", "Clasificación del municipio a nivel autonómico, insular y comarcal.</p>")`

<div class="column-modulo-right">
<div class="highlight-modulo" style="padding: 5px 15px;">

<p style="margin-bottom: 0;"> 
  <img src="img_dat/modulo_mapas.png"/>
</p>

</div>
</div>
</div>

<div class="row" style="margin: 10px 0;">
  `r get_indicator_mod("Otros indicadores", "Representaciones gráficas e indicadores de interés de la temática en cuestión.")`

<div class="column-modulo-right">
<div class="highlight-modulo" style="padding: 5px 15px;">

<p style="margin-bottom: 0;"> 
  <img src="img_dat/modulo_otros.png"/>
</p>

</div>
</div>
</div>

